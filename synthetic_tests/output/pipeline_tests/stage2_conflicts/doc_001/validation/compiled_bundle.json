{
  "schema_version": "1.0",
  "variables": {
    "refund_amount": {
      "type": "int",
      "description": "if the refund_amount is greater than or equal to 400"
    },
    "has_receipt": {
      "type": "bool",
      "description": "customer has a valid receipt (has_receipt equals True)"
    },
    "days_since_purchase": {
      "type": "int",
      "description": "purchase was made within twenty-one days or fewer"
    }
  },
  "conditional_rules": [
    {
      "policy_id": "POL-REFUND-001",
      "conditions": [
        {
          "var": "refund_amount",
          "op": ">=",
          "value": 400
        }
      ],
      "action": {
        "type": "verify_identity",
        "value": "full"
      },
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    },
    {
      "policy_id": "POL-REFUND-002",
      "conditions": [
        {
          "var": "has_receipt",
          "op": "==",
          "value": true
        },
        {
          "var": "days_since_purchase",
          "op": "<=",
          "value": 21
        }
      ],
      "action": {
        "type": "offer_refund",
        "value": "full"
      },
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    },
    {
      "policy_id": "POL-REFUND-003",
      "conditions": [
        {
          "var": "has_receipt",
          "op": "==",
          "value": true
        },
        {
          "var": "days_since_purchase",
          "op": "<=",
          "value": 14
        }
      ],
      "action": {
        "type": "offer_refund",
        "value": "full"
      },
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    },
    {
      "policy_id": "POL-REFUND-004",
      "conditions": [
        {
          "var": "has_receipt",
          "op": "==",
          "value": true
        },
        {
          "var": "days_since_purchase",
          "op": "<=",
          "value": 28
        }
      ],
      "action": {
        "type": "offer_refund",
        "value": "full"
      },
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    }
  ],
  "constraints": [],
  "decision_nodes": [
    "has_receipt",
    "days_since_purchase",
    "refund_amount"
  ],
  "node_schema": {
    "has_receipt": {
      "type": "bool",
      "description": "customer has a valid receipt (has_receipt equals True)"
    },
    "days_since_purchase": {
      "type": "int",
      "description": "purchase was made within twenty-one days or fewer"
    },
    "refund_amount": {
      "type": "int",
      "description": "if the refund_amount is greater than or equal to 400"
    }
  },
  "leaf_actions": [
    "offer_refund:full",
    "verify_identity:full"
  ],
  "compiled_paths": [
    {
      "policy_id": "POL-REFUND-001",
      "path": [
        {
          "var": "refund_amount",
          "tests": [
            {
              "op": ">=",
              "value": 400
            }
          ]
        }
      ],
      "leaf_action": "verify_identity:full",
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    },
    {
      "policy_id": "POL-REFUND-002",
      "path": [
        {
          "var": "has_receipt",
          "tests": [
            {
              "op": "==",
              "value": true
            }
          ]
        },
        {
          "var": "days_since_purchase",
          "tests": [
            {
              "op": "<=",
              "value": 21
            }
          ]
        }
      ],
      "leaf_action": "offer_refund:full",
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    },
    {
      "policy_id": "POL-REFUND-003",
      "path": [
        {
          "var": "has_receipt",
          "tests": [
            {
              "op": "==",
              "value": true
            }
          ]
        },
        {
          "var": "days_since_purchase",
          "tests": [
            {
              "op": "<=",
              "value": 14
            }
          ]
        }
      ],
      "leaf_action": "offer_refund:full",
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    },
    {
      "policy_id": "POL-REFUND-004",
      "path": [
        {
          "var": "has_receipt",
          "tests": [
            {
              "op": "==",
              "value": true
            }
          ]
        },
        {
          "var": "days_since_purchase",
          "tests": [
            {
              "op": "<=",
              "value": 28
            }
          ]
        }
      ],
      "leaf_action": "offer_refund:full",
      "metadata": {
        "domain": "refund",
        "priority": "company",
        "owner": "unknown",
        "source": "d6054900790ae4d9edab6475066480e6d982c789a53499f47dd3e275a180f3d8#sec1",
        "eff_date": null,
        "regulatory_linkage": []
      }
    }
  ],
  "dominance_rules": [],
  "escalations": [
    {
      "conflict_type": "logical",
      "policies": [
        "POL-REFUND-001",
        "POL-REFUND-002"
      ],
      "actions": [
        "verify_identity:full",
        "offer_refund:full"
      ],
      "priority": "company",
      "owners_to_notify": [
        "unknown"
      ],
      "evidence": {
        "witness": {
          "refund_amount": 400,
          "has_receipt": true,
          "days_since_purchase": 21
        }
      },
      "recommended_next_step": "human_review"
    },
    {
      "conflict_type": "logical",
      "policies": [
        "POL-REFUND-001",
        "POL-REFUND-003"
      ],
      "actions": [
        "verify_identity:full",
        "offer_refund:full"
      ],
      "priority": "company",
      "owners_to_notify": [
        "unknown"
      ],
      "evidence": {
        "witness": {
          "refund_amount": 400,
          "has_receipt": true,
          "days_since_purchase": 14
        }
      },
      "recommended_next_step": "human_review"
    },
    {
      "conflict_type": "logical",
      "policies": [
        "POL-REFUND-001",
        "POL-REFUND-004"
      ],
      "actions": [
        "verify_identity:full",
        "offer_refund:full"
      ],
      "priority": "company",
      "owners_to_notify": [
        "unknown"
      ],
      "evidence": {
        "witness": {
          "refund_amount": 400,
          "has_receipt": true,
          "days_since_purchase": 28
        }
      },
      "recommended_next_step": "human_review"
    }
  ],
  "canonical_action_map": [],
  "priority_lattice": {
    "regulatory": 1,
    "core_values": 2,
    "company": 3,
    "department": 4,
    "situational": 5
  },
  "bundle_metadata": {
    "generated_on": "2026-02-15T06:27:40.681628",
    "generator": "PolicyLLM-BundleCompiler-v1",
    "policy_count": 4,
    "rule_count": 4,
    "constraint_count": 0,
    "path_count": 4
  }
}